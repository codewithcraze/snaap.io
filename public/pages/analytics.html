<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="google-adsense-account" content="ca-pub-5723306635822257">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <title>URL Analytics | Just Snap It</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.1/css/all.min.css"
        integrity="sha512-5Hs3dF2AEPkpNAR7UiOHba+lRSJNeM2ECkwxUIxC1Q/FLycGTbNapWXB4tP889k5T5Ju8fs4b1P5z/iB4nMfSQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <meta name="description"
        content="Snaap.io offers powerful URL shortening, detailed link analytics, QR code generation, and XML sitemap creation to enhance your online presence.">
    <meta name="keywords"
        content="URL shortener, link analytics, QR code generator, XML sitemap generator, link tracking, online tools, digital marketing, SEO optimization, shorten URLs, track link clicks, custom short URLs, website analytics, digital workflow optimization, URL management tools, Snaap.io">
    <link rel="stylesheet" href="../style.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,0,400;1,0,400&display=swap"
        rel="stylesheet">
    <link rel="icon" type="image/png" href="./logo.avif">
    <style>
        input {
            height: 50px;
        }

        .result-section {
            display: none;
            margin-top: 30px;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 8px;
            background-color: #f9f9f9;
        }

        .result-section h4 {
            margin-bottom: 20px;
        }

        .result-section ul {
            list-style-type: none;
        }

        .result-section ul li {
            margin-bottom: 10px;
        }
    </style>
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light mb-5 fixed-top" style="background-color: rgba(0, 0, 0, 0.05);">
        <div class="container-fluid bg-light">
            <a class="navbar-brand" href="/">Snaap.io</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse " id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="/">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/analytics">Analytics</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Pricing</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">QR Code Generator</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <section class="py-5" style="margin-top: 100px;">
        <div class="container">
            <h2 class="mb-4">Enter Your Short URL to Get Analytics</h2>
            <em class="mb-2 text-muted">If you don't have generate one for you <a href="/">click</a></em>
            <form id="urlForm">
                <div class="mb-3">
                    <label for="urlInput" class="form-label">Enter Short URL</label>
                    <input type="text" class="form-control" id="urlInput" placeholder="Enter Short URL">
                </div>
                <button type="submit" class="btn btn-primary">Get Analytics</button>
            </form>

            <div id="analyticsResult" class="result-section">
                <h4>Analytics for <span id="shortUrl"></span></h4>
                <ul class="list-group">
                    <li class="list-group-item"><strong>Original URL:</strong> <span id="longUrl"></span></li>
                    <li class="list-group-item"><strong>Short URL:</strong> <a id="shortUrlLink" href="#" target="_blank">Click Here</a></li>
                    <li class="list-group-item"><strong>Visit Count:</strong> <span id="count"></span></li>
                    <li class="list-group-item"><strong>Date Created:</strong> <span id="dateCreated"></span></li>
                </ul>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="text-center text-lg-start bg-body-tertiary text-muted">
        <section class="d-flex justify-content-start justify-content-lg-between p-4 border-bottom">
            <div class="d-flex align-items-center justify-content-center w-100 social-link">
                <a href="" class="me-4 text-reset">
                    <i class="fab fa-facebook-f"></i>
                </a>
                <a href="" class="me-4 text-reset">
                    <i class="fab fa-twitter"></i>
                </a>
                <a href="" class="me-4 text-reset">
                    <i class="fab fa-google"></i>
                </a>
                <a href="" class="me-4 text-reset">
                    <i class="fab fa-instagram"></i>
                </a>
                <a href="" class="me-4 text-reset">
                    <i class="fab fa-linkedin"></i>
                </a>
                <a href="" class="me-4 text-reset">
                    <i class="fab fa-github"></i>
                </a>
            </div>
        </section>
        <section class="p-3" style="background-color: rgba(0, 0, 0, 0.05);">
            <div class="container text-start text-md-start mt-5">
                <div class="row mt-3">
                    <div class="col-md-3 col-lg-4 col-xl-3 mx-auto mb-4">
                        <h6 class="text-uppercase fw-bold mb-4">
                            <i class="fas fa-gem me-3"></i>Snaap.io
                        </h6>
                        <p>
                            Snaap.io offers a simple URL shortener, customizable QR code generator, and detailed
                            analytics. Track link performance and engage users with ease.
                        </p>
                    </div>
                    <div class="col-md-2 col-lg-2 col-xl-2 mx-auto mb-4">
                        <h6 class="text-uppercase fw-bold mb-4">Products</h6>
                        <p><a href="/" class="text-reset">Snaap.io</a></p>
                        <p><a href="/analytics" class="text-reset">Analytics</a></p>
                        <p><a href="#!" class="text-reset">QR Code Generator</a></p>
                        <p><a href="#!" class="text-reset">Image Uploader</a></p>
                    </div>
                    <div class="col-md-3 col-lg-2 col-xl-2 mx-auto mb-md-0 mb-4">
                        <h6 class="text-uppercase fw-bold mb-4">Useful links</h6>
                        <p><a href="/about" class="text-reset">About Us</a></p>
                        <p><a href="/contact-us" class="text-reset">Contact Us</a></p>
                        <p><a href="/terms-and-conditions" class="text-reset">Terms and Conditions</a></p>
                        <p><a href="/privacy-policy" class="text-reset">Privacy Policy</a></p>
                        <p><a href="/blog" class="text-reset">Blog</a></p>
                    </div>
                    <div class="col-md-4 col-lg-3 col-xl-3 mx-auto mb-md-0 mb-4">
                        <h6 class="text-uppercase fw-bold mb-4">Contact</h6>
                        <p><i class="fas fa-home me-3"></i> Noida Sector 62, Uttar Pradesh</p>
                        <p><i class="fas fa-envelope me-3"></i> info@snaap.io</p>
                    </div>
                </div>
            </div>
        </section>
        <div class="text-center p-4" style="background-color: rgba(0, 0, 0, 0.05);">
            Â© <span id="year"></span> Copyright: <a class="text-reset fw-bold" href="https://snaap.io/">Snaap.io</a>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Set the current year in the footer
            document.getElementById("year").textContent = new Date().getFullYear();

            // Handle form submission without jQuery
            document.getElementById("urlForm").addEventListener('submit', function (e) {
                e.preventDefault(); // Prevent default form submission

                const urlInput = document.getElementById("urlInput");
                const url = urlInput.value.trim();

                if (!url) {
                    alert('Please enter a valid URL');
                    return;
                }

                // Make the API call using fetch
                fetch('/api/getCount', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ url })
                })
                .then(response => response.json())
                .then(data => {
                    if (data) {
                        document.getElementById("shortUrl").textContent = data.count.urlCode;
                        document.getElementById("longUrl").textContent = data.count.longUrl;
                        document.getElementById("shortUrlLink").setAttribute('href', data.count.shortUrl);
                        document.getElementById("count").textContent = data.count.count;
                        document.getElementById("dateCreated").textContent = data.count.date;
                        document.getElementById("analyticsResult").style.display = 'block';
                    } else {
                        alert('Error fetching data');
                    }
                })
                .catch(() => {
                    alert('Something went wrong');
                });
            });
        });
    </script>
</body>

</html>
